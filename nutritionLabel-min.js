/*
 ***************************************************************************************************************************************************+
 * NUTRITIONIX.com                                                                                                                                  |
 *                                                                                                                                                  |
 * This plugin allows you to create a fully customizable nutrition label                                                                            |
 *                                                                                                                                                  |
 * @authors             Leo Joseph Gajitos <leejay22@gmail.com, Rommel Malang <genesis23rd@gmail.com> and Yurko Fedoriv <yurko.fedoriv@gmail.com>   |
 * @copyright           Copyright (c) 2016 Nutritionix.                                                                                             |
 * @license             This Nutritionix jQuery Nutrition Label is dual licensed under the MIT and GPL licenses.                                    |
 * @link                http://www.nutritionix.com                                                                                                  |
 * @github              http://github.com/nutritionix/nutrition-label                                                                               |
 * @current version     7.0.02                                                                                                                      |
 * @stable version      6.0.18                                                                                                                      |
 * @supported browser   Firefox, Chrome, IE8+                                                                                                       |
 * @description         To be able to create a FDA-style nutrition label with any nutrition data source"                                            |
 *                                                                                                                                                  |
 ***************************************************************************************************************************************************+
*/
;(function($){$.fn.nutritionLabel=function(option,settings){if(typeof option==="object"){settings=option;init(settings,$(this))}else{if(typeof option==="string"&&option!==""){if(option==="destroy"){new NutritionLabel().destroy($(this))}else{if(option==="hide"){new NutritionLabel().hide($(this))}else{if(option==="show"){new NutritionLabel().show($(this))}else{var values=[];var elements=this.each(function(){var data=$(this).data("_nutritionLabel");if(data){if($.fn.nutritionLabel.defaultSettings[option]!==undefined){if(settings!==undefined){data.settings[option]=settings;init(data.settings,$(this))}else{values.push(data.settings[option])}}}else{if($.fn.nutritionLabel.defaultSettings[option]!==undefined){if(settings!==undefined){$.fn.nutritionLabel.defaultSettings[option]=settings;init(null,$(this))}}}});if(values.length===1){return values[0]}return values.length>0?values:elements}}}}else{if(typeof option==="undefined"||option===""){init(settings,$(this))}}}};$.fn.nutritionLabel.defaultSettings={width:280,allowCustomWidth:false,widthCustom:"auto",allowNoBorder:false,allowFDARounding:false,allowGoogleAnalyticsEventLog:false,gooleAnalyticsFunctionName:"ga",userFunctionNameOnQuantityChange:null,hideNotApplicableValues:false,brandName:"Brand where this item belongs to",scrollLongIngredients:false,scrollHeightComparison:100,scrollHeightPixel:95,decimalPlacesForNutrition:1,decimalPlacesForDailyValues:0,decimalPlacesForQuantityTextbox:1,scrollLongItemName:true,scrollLongItemNamePixel:36,showBottomLink:false,urlBottomLink:"http://www.nutritionix.com",nameBottomLink:"Nutritionix",valueServingUnitQuantity:1,valueServingSizeUnit:"",showServingUnitQuantityTextbox:true,itemName:"Item / Ingredient Name",showServingUnitQuantity:true,hideTextboxArrows:false,originalServingUnitQuantity:0,nutritionValueMultiplier:1,totalContainerQuantity:1,calorieIntake:2000,dailyValueTotalFat:65,dailyValueSatFat:20,dailyValueCholesterol:300,dailyValueSodium:2400,dailyValuePotassium:3500,dailyValueCarb:300,dailyValueFiber:25,showCalories:true,showFatCalories:true,showTotalFat:true,showSatFat:true,showTransFat:true,showPolyFat:true,showMonoFat:true,showCholesterol:true,showSodium:true,showPotassium:false,showTotalCarb:true,showFibers:true,showSugars:true,showProteins:true,showVitaminA:true,showVitaminC:true,showCalcium:true,showIron:true,showAmountPerServing:true,showServingsPerContainer:false,showItemName:true,showBrandName:false,showIngredients:true,showCalorieDiet:false,showCustomFooter:false,showDisclaimer:false,scrollDisclaimerHeightComparison:100,scrollDisclaimer:95,valueDisclaimer:"Please note that these nutrition values are estimated based on our standard serving portions. As food servings may have a slight variance each time you visit, please expect these values to be with in 10% +/- of your actual meal. If you have any questions about our nutrition calculator, please contact Nutritionix.",ingredientLabel:"INGREDIENTS:",valueCustomFooter:"",naCalories:false,naFatCalories:false,naTotalFat:false,naSatFat:false,naTransFat:false,naPolyFat:false,naMonoFat:false,naCholesterol:false,naSodium:false,naPotassium:false,naTotalCarb:false,naFibers:false,naSugars:false,naProteins:false,naVitaminA:false,naVitaminC:false,naCalcium:false,naIron:false,valueServingWeightGrams:0,valueServingPerContainer:1,valueCalories:0,valueFatCalories:0,valueTotalFat:0,valueSatFat:0,valueTransFat:0,valuePolyFat:0,valueMonoFat:0,valueCholesterol:0,valueSodium:0,valuePotassium:0,valueTotalCarb:0,valueFibers:0,valueSugars:0,valueProteins:0,valueVitaminA:0,valueVitaminC:0,valueCalcium:0,valueIron:0,unitCalories:"",unitFatCalories:"",unitTotalFat:"g",unitSatFat:"g",unitTransFat:"g",unitPolyFat:"g",unitMonoFat:"g",unitCholesterol:"mg",unitSodium:"mg",unitPotassium:"mg",unitTotalCarb:"g",unitFibers:"g",unitSugars:"g",unitProteins:"g",unitVitaminA:"%",unitVitaminC:"%",unitCalcium:"%",unitIron:"%",valueCol1CalorieDiet:2000,valueCol2CalorieDiet:2500,valueCol1DietaryTotalFat:0,valueCol2DietaryTotalFat:0,valueCol1DietarySatFat:0,valueCol2DietarySatFat:0,valueCol1DietaryCholesterol:0,valueCol2DietaryCholesterol:0,valueCol1DietarySodium:0,valueCol2DietarySodium:0,valueCol1DietaryPotassium:0,valueCol2DietaryPotassium:0,valueCol1DietaryTotalCarb:0,valueCol2DietaryTotalCarb:0,valueCol1Dietary:0,valueCol2Dietary:0,textNutritionFacts:"Nutrition Facts",textDailyValues:"Daily Value",textServingSize:"Serving Size:",textServingsPerContainer:"Servings Per Container",textAmountPerServing:"Amount Per Serving",textCalories:"Calories",textFatCalories:"Calories from Fat",textTotalFat:"Total Fat",textSatFat:"Saturated Fat",textTransFat:"<em>Trans</em> Fat",textPolyFat:"Polyunsaturated Fat",textMonoFat:"Monounsaturated Fat",textCholesterol:"Cholesterol",textSodium:"Sodium",textPotassium:"Potassium",textTotalCarb:"Total Carbohydrates",textFibers:"Dietary Fiber",textSugars:"Sugars",textProteins:"Protein",textVitaminA:"Vitamin A",textVitaminC:"Vitamin C",textCalcium:"Calcium",textIron:"Iron",ingredientList:"None",textPercentDailyPart1:"Percent Daily Values are based on a",textPercentDailyPart2:"calorie diet",textGoogleAnalyticsEventCategory:"Nutrition Label",textGoogleAnalyticsEventActionUpArrow:"Quantity Up Arrow Clicked",textGoogleAnalyticsEventActionDownArrow:"Quantity Down Arrow Clicked",textGoogleAnalyticsEventActionTextbox:"Quantity Textbox Changed",showLegacyVersion:true};function NutritionLabel(settings,$elem){this.nutritionLabel=null;this.settings=settings;this.$elem=$elem;return this}function cleanSettings(settings){var numericIndex=["width","scrollHeightComparison","scrollHeightPixel","decimalPlacesForNutrition","decimalPlacesForDailyValues","calorieIntake","dailyValueTotalFat","dailyValueSatFat","dailyValueCholesterol","dailyValueSodium","dailyValuePotassium","dailyValueCarb","dailyValueFiber","valueServingSize","valueServingWeightGrams","valueServingPerContainer","valueCalories","valueFatCalories","valueTotalFat","valueSatFat","valueTransFat","valuePolyFat","valueMonoFat","valueCholesterol","valueSodium","valuePotassium","valueTotalCarb","valueFibers","valueSugars","valueProteins","valueVitaminA","valueVitaminC","valueCalcium","valueIron","valueCol1CalorieDiet","valueCol2CalorieDiet","valueCol1DietaryTotalFat","valueCol2DietaryTotalFat","valueCol1DietarySatFat","valueCol2DietarySatFat","valueCol1DietaryCholesterol","valueCol2DietaryCholesterol","valueCol1DietarySodium","valueCol2DietarySodium","valueCol1DietaryPotassium","valueCol2DietaryPotassium","valueCol1DietaryTotalCarb","valueCol2DietaryTotalCarb","valueCol1Dietary","valueCol2Dietary","valueServingUnitQuantity","scrollLongItemNamePixel","decimalPlacesForQuantityTextbox"];$.each(settings,function(index,value){if(jQuery.inArray(index,numericIndex)!==-1){settings[index]=parseFloat(settings[index]);if(isNaN(settings[index])||settings[index]===undefined){settings[index]=0}}});if(settings.valueServingUnitQuantity<0){settings.valueServingUnitQuantity=0}return settings}function UpdateNutritionValueWithMultiplier(settings){var nutritionIndex=["valueCalories","valueFatCalories","valueTotalFat","valueSatFat","valueTransFat","valuePolyFat","valueMonoFat","valueCholesterol","valueSodium","valuePotassium","valueTotalCarb","valueFibers","valueSugars","valueProteins","valueVitaminA","valueVitaminC","valueCalcium","valueIron","valueServingWeightGrams"];$.each(settings,function(index,value){if(jQuery.inArray(index,nutritionIndex)!==-1){settings[index]=parseFloat(settings[index]);if(isNaN(settings[index])||settings[index]===undefined){settings[index]=0}settings[index]=parseFloat(settings[index])*parseFloat(settings.valueServingUnitQuantity)*parseFloat(settings.nutritionValueMultiplier)}});if(parseFloat(settings.valueServingUnitQuantity)==0){settings.valueServingPerContainer=0}else{if(!isNaN(settings.valueServingPerContainer)&&settings.valueServingPerContainer!=undefined){settings.valueServingPerContainer=parseFloat(settings.totalContainerQuantity)/parseFloat(settings.valueServingUnitQuantity)}}return settings}function init(settings,$elem){var $settings=$.extend({},$.fn.nutritionLabel.defaultSettings,settings||{});$settings.totalContainerQuantity=parseFloat($settings.valueServingPerContainer)*parseFloat($settings.valueServingUnitQuantity);var $originalCleanSettings=cleanSettings($.extend({},$.fn.nutritionLabel.defaultSettings,settings||{}));$originalCleanSettings.totalContainerQuantity=parseFloat($originalCleanSettings.valueServingPerContainer)*parseFloat($originalCleanSettings.valueServingUnitQuantity);$settings=cleanSettings($settings);$originalCleanSettings=cleanSettings($originalCleanSettings);$settings.nutritionValueMultiplier=$settings.valueServingUnitQuantity<=0?1:1/$settings.valueServingUnitQuantity;var $updatedsettings=UpdateNutritionValueWithMultiplier($settings);$settings.originalServingUnitQuantity=$updatedsettings.valueServingUnitQuantity;if($updatedsettings.valueServingUnitQuantity<=0){$originalCleanSettings.valueServingUnitQuantity=1;$updatedsettings=UpdateNutritionValueWithMultiplier($originalCleanSettings);$updatedsettings.valueServingUnitQuantity=1}var nutritionLabel=new NutritionLabel($updatedsettings,$elem);if($updatedsettings.showLegacyVersion){$elem.html(nutritionLabel.generateLegacy());if($settings.showIngredients&&$settings.scrollLongIngredients){updateScrollingFeatureLegacy($elem,$settings)}if($settings.showDisclaimer){updateScrollingFeatureDisclaimerLegacy($elem,$settings)}notApplicableHoverLegacy($elem);if($settings.scrollLongItemName){addScrollToItemDivLegacy($elem,$settings)}if($settings.showServingUnitQuantityTextbox){$("#"+$elem.attr("id")).delegate(".unitQuantityUp","click",function(e){e.preventDefault();$settingsHolder=cleanSettings($.extend({},$.fn.nutritionLabel.defaultSettings,settings||{}));$settingsHolder.totalContainerQuantity=$settings.totalContainerQuantity;$settingsHolder.originalServingUnitQuantity=$settings.originalServingUnitQuantity;$settingsHolder.nutritionValueMultiplier=$settingsHolder.valueServingUnitQuantity<=0?1:1/$settingsHolder.valueServingUnitQuantity;changeQuantityByArrowLegacy($(this),1,$settingsHolder,nutritionLabel,$elem)});$("#"+$elem.attr("id")).delegate(".unitQuantityDown","click",function(e){e.preventDefault();$settingsHolder=cleanSettings($.extend({},$.fn.nutritionLabel.defaultSettings,settings||{}));$settingsHolder.originalServingUnitQuantity=$settings.originalServingUnitQuantity;$settingsHolder.totalContainerQuantity=$settings.totalContainerQuantity;$settingsHolder.nutritionValueMultiplier=$settingsHolder.valueServingUnitQuantity<=0?1:1/$settingsHolder.valueServingUnitQuantity;changeQuantityByArrowLegacy($(this),-1,$settingsHolder,nutritionLabel,$elem)});$("#"+$elem.attr("id")).delegate(".unitQuantityBox","change",function(e){e.preventDefault();$settingsHolder=cleanSettings($.extend({},$.fn.nutritionLabel.defaultSettings,settings||{}));$settingsHolder.originalServingUnitQuantity=$settings.originalServingUnitQuantity;$settingsHolder.totalContainerQuantity=$settings.totalContainerQuantity;$settingsHolder.nutritionValueMultiplier=$settingsHolder.valueServingUnitQuantity<=0?1:1/$settingsHolder.valueServingUnitQuantity;changeQuantityTextboxLegacy($(this),$settingsHolder,nutritionLabel,$elem)});$("#"+$elem.attr("id")).delegate(".unitQuantityBox","keydown",function(e){if(e.keyCode==13){e.preventDefault();$settingsHolder=cleanSettings($.extend({},$.fn.nutritionLabel.defaultSettings,settings||{}));$settingsHolder.originalServingUnitQuantity=$settings.originalServingUnitQuantity;$settingsHolder.totalContainerQuantity=$settings.totalContainerQuantity;$settingsHolder.nutritionValueMultiplier=$settingsHolder.valueServingUnitQuantity<=0?1:1/$settingsHolder.valueServingUnitQuantity;changeQuantityTextboxLegacy($(this),$settingsHolder,nutritionLabel,$elem)}})}}else{$elem.html(nutritionLabel.generate2018())}$elem.data("_nutritionLabel",nutritionLabel)}function addScrollToItemDivLegacy($elem,$settings){if($("#"+$elem.attr("id")+" .name.inline").val()!=undefined){if($("#"+$elem.attr("id")+" .name.inline").height()>(parseInt($settings.scrollLongItemNamePixel)+1)){$("#"+$elem.attr("id")+" .name.inline").css({"margin-left":"3.90em",height:parseInt($settings.scrollLongItemNamePixel)+"px","overflow-y":"auto"})}}else{if($("#"+$elem.attr("id")+" .name").height()>(parseInt($settings.scrollLongItemNamePixel)+1)){$("#"+$elem.attr("id")+" .name").css({height:parseInt($settings.scrollLongItemNamePixel)+"px","overflow-y":"auto"})}}}function notApplicableHoverLegacy($elem){if($elem.attr("id")!==undefined&&$elem.attr("id")!==""){$("#"+$elem.attr("id")+" .notApplicable").hover(function(){$("#"+$elem.attr("id")+" .naTooltip").css({top:$(this).position().top+"px",left:$(this).position().left+10+"px"}).show()},function(){$("#"+$elem.attr("id")+" .naTooltip").hide()})}else{$("#"+$elem.attr("id")+" .notApplicable").hover(function(){$(".naTooltip").css({top:$(this).position().top+"px",left:$(this).position().left+10+"px"}).show()},function(){$(".naTooltip").hide()})}}function updateScrollingFeatureLegacy($elem,$settings){if($elem.attr("id")!==undefined&&$elem.attr("id")!==""){$ingredientListParent=$("#"+$elem.attr("id")+" #ingredientList").parent()}else{$ingredientListParent=$("#ingredientList").parent()}if($ingredientListParent.innerHeight()>$settings.scrollHeightComparison){$ingredientListParent.addClass("scroll").css({height:$settings.scrollHeightPixel+"px"})}}function updateScrollingFeatureDisclaimerLegacy($elem,$settings){if($elem.attr("id")!==undefined&&$elem.attr("id")!==""){$disclaimerParent=$("#"+$elem.attr("id")+" #calcDisclaimerText").parent()}else{$disclaimerParent=$("#calcDisclaimerText").parent()}if($disclaimerParent.innerHeight()>$settings.scrollDisclaimerHeightComparison){$disclaimerParent.addClass("scroll").css({height:$settings.scrollDisclaimer+"px"})}}function changeQuantityTextboxLegacy($thisTextbox,$originalSettings,nutritionLabel,$elem){var previousValue=parseFloat($("#"+$elem.attr("id")+" #nixLabelBeforeQuantity").val());textBoxValue=!regIsPosNumber($thisTextbox.val())?previousValue:parseFloat($thisTextbox.val());$thisTextbox.val(textBoxValue.toFixed($originalSettings.decimalPlacesForQuantityTextbox));$originalSettings.valueServingUnitQuantity=textBoxValue;$originalSettings=UpdateNutritionValueWithMultiplier($originalSettings);nutritionLabel=new NutritionLabel($originalSettings,$elem);$elem.html(nutritionLabel.generateLegacy());if($originalSettings.showIngredients&&$originalSettings.scrollLongIngredients){updateScrollingFeatureLegacy($elem,$originalSettings)}if($originalSettings.showDisclaimer){updateScrollingFeatureDisclaimerLegacy($elem,$originalSettings)}notApplicableHoverLegacy($elem);if($originalSettings.scrollLongItemName){addScrollToItemDivLegacy($elem,$originalSettings)}if($originalSettings.allowGoogleAnalyticsEventLog){window[$originalSettings.gooleAnalyticsFunctionName]("send","event",$originalSettings.textGoogleAnalyticsEventCategory,$originalSettings.textGoogleAnalyticsEventActionTextbox)}if(typeof $originalSettings.userFunctionNameOnQuantityChange==="function"){$originalSettings.userFunctionNameOnQuantityChange("textbox",previousValue.toFixed($originalSettings.decimalPlacesForQuantityTextbox),textBoxValue.toFixed($originalSettings.decimalPlacesForQuantityTextbox))}}function changeQuantityByArrowLegacy($thisQuantity,changeValueBy,$settings,nutritionLabel,$elem){var currentQuantity=parseFloat($thisQuantity.parent().parent().find("input.unitQuantityBox").val());if(isNaN(currentQuantity)){currentQuantity=1}var beforeCurrentQuantityWasChanged=currentQuantity;if(currentQuantity<=1&&changeValueBy==-1){changeValueBy=-0.5;currentQuantity+=changeValueBy}else{if(currentQuantity<1&&changeValueBy==1){changeValueBy=0.5;currentQuantity+=changeValueBy}else{if(currentQuantity<=2&&currentQuantity>1&&changeValueBy==-1){currentQuantity=1}else{currentQuantity+=changeValueBy}}}if(currentQuantity<0){currentQuantity=0}$thisQuantity.parent().parent().find("input.unitQuantityBox").val(currentQuantity.toFixed($settings.decimalPlacesForQuantityTextbox));$settings.valueServingUnitQuantity=currentQuantity;$settings=UpdateNutritionValueWithMultiplier($settings);nutritionLabel=new NutritionLabel($settings,$elem);$elem.html(nutritionLabel.generateLegacy());if($settings.showIngredients&&$settings.scrollLongIngredients){updateScrollingFeatureLegacy($elem,$settings)}if($settings.showDisclaimer){updateScrollingFeatureDisclaimerLegacy($elem,$settings)}notApplicableHoverLegacy($elem);if($settings.scrollLongItemName){addScrollToItemDivLegacy($elem,$settings)}if($settings.allowGoogleAnalyticsEventLog){if(changeValueBy>0){window[$settings.gooleAnalyticsFunctionName]("send","event",$settings.textGoogleAnalyticsEventCategory,$settings.textGoogleAnalyticsEventActionUpArrow)}else{window[$settings.gooleAnalyticsFunctionName]("send","event",$settings.textGoogleAnalyticsEventCategory,$settings.textGoogleAnalyticsEventActionDownArrow)}}if(typeof $settings.userFunctionNameOnQuantityChange==="function"){$settings.userFunctionNameOnQuantityChange(changeValueBy>0?"up arrow":"down arrow",beforeCurrentQuantityWasChanged,currentQuantity)}}function roundToNearestNum(input,nearest){if(nearest<0){return Math.round(input*nearest)/nearest}else{return Math.round(input/nearest)*nearest}}function roundCalories(toRound,decimalPlace){toRound=roundCaloriesRule(toRound);if(toRound>0){toRound=parseFloat(toRound.toFixed(decimalPlace))}return toRound}function roundFat(toRound,decimalPlace){toRound=roundFatRule(toRound);if(toRound>0){toRound=parseFloat(toRound.toFixed(decimalPlace))}return toRound}function roundSodium(toRound,decimalPlace){toRound=roundSodiumRule(toRound);if(toRound>0){toRound=parseFloat(toRound.toFixed(decimalPlace))}return toRound}function roundPotassium(toRound,decimalPlace){toRound=roundPotassiumRule(toRound);if(toRound>0){toRound=parseFloat(toRound.toFixed(decimalPlace))}return toRound}function roundCholesterol(toRound,decimalPlace){var normalVersion=true;var roundResult=roundCholesterolRule(toRound);if(roundResult===false){normalVersion=false}else{toRound=roundResult}if(normalVersion){if(toRound>0){toRound=parseFloat(toRound.toFixed(decimalPlace))}}else{toRound="< 5"}return toRound}function roundCarbFiberSugarProtein(toRound,decimalPlace){var normalVersion=true;var roundResult=roundCarbFiberSugarProteinRule(toRound);if(roundResult===false){normalVersion=false}else{toRound=roundResult}if(normalVersion){if(toRound>0){toRound=parseFloat(toRound.toFixed(decimalPlace))}}else{toRound="< 1"}return toRound}function roundCaloriesRule(toRound){if(toRound<5){return 0}else{if(toRound<=50){return roundToNearestNum(toRound,5)}else{return roundToNearestNum(toRound,10)}}}function roundFatRule(toRound){if(toRound<0.5){return 0}else{if(toRound<5){return roundToNearestNum(toRound,0.5)}else{return roundToNearestNum(toRound,1)}}}function roundSodiumRule(toRound){if(toRound<5){return 0}else{if(toRound<=140){return roundToNearestNum(toRound,5)}else{return roundToNearestNum(toRound,10)}}}function roundPotassiumRule(toRound){if(toRound<5){return 0}else{if(toRound<=140){return roundToNearestNum(toRound,5)}else{return roundToNearestNum(toRound,10)}}}function roundCholesterolRule(toRound){if(toRound<2){return 0}else{if(toRound<=5){return false}else{return roundToNearestNum(toRound,5)}}}function roundCarbFiberSugarProteinRule(toRound){if(toRound<0.5){return 0}else{if(toRound<1){return false}else{return roundToNearestNum(toRound,1)}}}function roundVitaminsCalciumIron(toRound){if(toRound>0){if(toRound<10){return roundToNearestNum(toRound,2)}else{if(toRound<50){return roundToNearestNum(toRound,5)}else{return roundToNearestNum(toRound,10)}}}else{return 0}}function regIsPosNumber(fData){return new RegExp("(^[0-9]+[.]?[0-9]+$)|(^[0-9]+$)").test(fData)}function itemNameHtmlLegacy($localSettings){for(x=1;x<5;x++){var tab="";for(y=1;y<=x;y++){tab+="\t"}eval("var localTab"+x+' = "'+tab+'";')}var tabTemp=localTab1;var localNutritionLabel=itemNameClass="";if($localSettings.showServingUnitQuantityTextbox){if(($localSettings.valueServingSizeUnit==null||$localSettings.valueServingSizeUnit=="")||($localSettings.valueServingSizeUnit!==""&&$localSettings.valueServingSizeUnit!==null&&$localSettings.originalServingUnitQuantity<=0)){localNutritionLabel+=localTab1+'<div class="cf">\n';localNutritionLabel+=localTab2+'<div class="rel servingSizeField">\n';var textboxClass="unitQuantityBox";if(!$localSettings.hideTextboxArrows){localNutritionLabel+=localTab3+'<div class="setter">\n';localNutritionLabel+=localTab4+'<a href="Increase the quantity" class="unitQuantityUp" rel="nofollow"></a>\n';localNutritionLabel+=localTab4+'<a href="Decrease the quantity" class="unitQuantityDown" rel="nofollow"></a>\n';localNutritionLabel+=localTab3+'</div><!-- closing class="setter" -->\n'}else{textboxClass="unitQuantityBox arrowsAreHidden"}localNutritionLabel+=localTab3+'<input type="text" value="'+parseFloat($localSettings.valueServingUnitQuantity.toFixed($localSettings.decimalPlacesForQuantityTextbox))+'" ';localNutritionLabel+='class="'+textboxClass+'">\n';localNutritionLabel+=localTab3+'<input type="hidden" value="'+parseFloat($localSettings.valueServingUnitQuantity.toFixed($localSettings.decimalPlacesForQuantityTextbox))+'" ';localNutritionLabel+='id="nixLabelBeforeQuantity">\n';localNutritionLabel+=localTab2+'</div><!-- closing class="servingSizeField" -->\n';tabTemp=localTab2;var itemNameClass="inline"}}localNutritionLabel+=tabTemp+'<div class="name '+itemNameClass+'">';localNutritionLabel+=$localSettings.itemName;if($localSettings.showBrandName&&$localSettings.brandName!=null&&$localSettings.brandName!=""){localNutritionLabel+=" - "+$localSettings.brandName}localNutritionLabel+="</div>\n";if($localSettings.showServingUnitQuantityTextbox){if(($localSettings.valueServingSizeUnit==null||$localSettings.valueServingSizeUnit=="")||($localSettings.valueServingSizeUnit!==""&&$localSettings.valueServingSizeUnit!==null&&$localSettings.originalServingUnitQuantity<=0)){localNutritionLabel+=localTab1+'</div><!-- closing class="cf" -->\n'}}return localNutritionLabel}function sevingUnitQuantityHtmlLegacy($localSettings){for(x=1;x<6;x++){var tab="";for(y=1;y<=x;y++){tab+="\t"}eval("var localTab"+x+' = "'+tab+'";')}var localServingSizeIsHidden=localServingContainerIsHidden=false;var localNutritionLabel="";if($localSettings.showServingUnitQuantity){localNutritionLabel+=localTab1+'<div class="serving">\n';if($localSettings.originalServingUnitQuantity>0){localNutritionLabel+=localTab2+'<div class="cf">\n';localNutritionLabel+=localTab3+'<div class="servingSizeText fl">'+$localSettings.textServingSize+"</div>\n";localNutritionLabel+=$localSettings.showServingUnitQuantityTextbox?"":localTab3+'<div class="servingUnitQuantity fl" itemprop="servingSize">'+parseFloat($localSettings.originalServingUnitQuantity.toFixed($localSettings.decimalPlacesForNutrition))+"</div>\n";var unitAddedClass="";var gramsAddedClass="";if($localSettings.valueServingSizeUnit!==""&&$localSettings.valueServingSizeUnit!==null){if($localSettings.showServingUnitQuantityTextbox&&$localSettings.valueServingSizeUnit!=null&&$localSettings.valueServingSizeUnit!=""){unitAddedClass="unitHasTextbox";gramsAddedClass="gramsHasTextbox";localNutritionLabel+=localTab3+'<div class="rel servingSizeField fl">\n';var textboxClass="unitQuantityBox";if(!$localSettings.hideTextboxArrows){localNutritionLabel+=localTab4+'<div class="setter">\n';localNutritionLabel+=localTab5+'<a href="Increase the quantity" class="unitQuantityUp" rel="nofollow"></a>\n';localNutritionLabel+=localTab5+'<a href="Decrease the quantity" class="unitQuantityDown" rel="nofollow"></a>\n';localNutritionLabel+=localTab4+'</div><!-- closing class="setter" -->\n'}else{textboxClass="unitQuantityBox arrowsAreHidden"}localNutritionLabel+=localTab4+'<input type="text" value="'+parseFloat($localSettings.valueServingUnitQuantity.toFixed($localSettings.decimalPlacesForQuantityTextbox))+'" ';localNutritionLabel+='class="'+textboxClass+'">\n';localNutritionLabel+=localTab4+'<input type="hidden" value="'+parseFloat($localSettings.valueServingUnitQuantity.toFixed($localSettings.decimalPlacesForQuantityTextbox))+'" ';localNutritionLabel+='id="nixLabelBeforeQuantity">\n';localNutritionLabel+=localTab3+'</div><!-- closing class="servingSizeField" -->\n'}else{if($localSettings.originalServingUnitQuantity>0&&$localSettings.showServingUnitQuantityTextbox){localNutritionLabel+=localTab3+'<div class="servingUnitQuantity" itemprop="servingSize">'+parseFloat($localSettings.originalServingUnitQuantity.toFixed($localSettings.decimalPlacesForNutrition))+"</div>\n"}}localNutritionLabel+=localTab3+'<div class="servingUnit fl '+unitAddedClass+'">'+$localSettings.valueServingSizeUnit+"</div>\n"}else{if($localSettings.originalServingUnitQuantity>0&&$localSettings.showServingUnitQuantityTextbox){localNutritionLabel+=localTab3+'<div class="servingUnitQuantity fl" itemprop="servingSize">'+parseFloat($localSettings.originalServingUnitQuantity.toFixed($localSettings.decimalPlacesForNutrition))+"</div>\n"}}if($localSettings.valueServingWeightGrams>0){localNutritionLabel+=localTab3+'<div class="servingWeightGrams fl '+gramsAddedClass+'">(<span itemprop="servingSize">'+parseFloat($localSettings.valueServingWeightGrams.toFixed($localSettings.decimalPlacesForNutrition))+"g</span>)</div>\n"}localNutritionLabel+=localTab2+'</div><!-- closing class="cf" -->\n'}else{localServingSizeIsHidden=true}if($localSettings.showServingsPerContainer){if($localSettings.valueServingPerContainer>0){localNutritionLabel+=localTab2+"<div>"+$localSettings.textServingsPerContainer+" ";localNutritionLabel+=parseFloat($localSettings.valueServingPerContainer.toFixed($localSettings.decimalPlacesForNutrition));localNutritionLabel+="</div>\n"}else{localServingContainerIsHidden=true}}else{localServingContainerIsHidden=true}localNutritionLabel+=localTab1+'</div><!-- closing class="serving" -->\n'}return{servingSizeIsHidden:localServingSizeIsHidden,servingContainerIsHidden:localServingContainerIsHidden,nutritionLabel:localNutritionLabel}}function calorieDietHtmlLegacy($localSettings){for(x=2;x<6;x++){var tab="";for(y=1;y<=x;y++){tab+="\t"}eval("var localTab"+x+' = "'+tab+'";')}localNutritionLabel="";localNutritionLabel+=localTab2+'<table class="tblCalorieDiet">\n';localNutritionLabel+=localTab3+"<thead>\n";localNutritionLabel+=localTab4+"<tr>\n";localNutritionLabel+=localTab5+"<th>&nbsp;</th>\n";localNutritionLabel+=localTab5+"<th>Calories</th>\n";localNutritionLabel+=localTab5+"<th>"+$localSettings.valueCol1CalorieDiet+"</th>\n";localNutritionLabel+=localTab5+"<th>"+$localSettings.valueCol2CalorieDiet+"</th>\n";localNutritionLabel+=localTab4+"</tr>\n";localNutritionLabel+=localTab3+"</thead>\n";localNutritionLabel+=localTab3+"<tbody>\n";localNutritionLabel+=localTab4+"<tr>\n";localNutritionLabel+=localTab5+"<td>Total Fat</td>\n";localNutritionLabel+=localTab5+"<td>Less than</td>\n";localNutritionLabel+=localTab5+"<td>"+$localSettings.valueCol1DietaryTotalFat+"g</td>\n";localNutritionLabel+=localTab5+"<td>"+$localSettings.valueCol2DietaryTotalFat+"g</td>\n";localNutritionLabel+=localTab4+"</tr>\n";localNutritionLabel+=localTab4+"<tr>\n";localNutritionLabel+=localTab5+"<td>&nbsp;&nbsp; Saturated Fat</td>\n";localNutritionLabel+=localTab5+"<td>Less than</td>\n";localNutritionLabel+=localTab5+"<td>"+$localSettings.valueCol1DietarySatFat+"g</td>\n";localNutritionLabel+=localTab5+"<td>"+$localSettings.valueCol2DietarySatFat+"g</td>\n";localNutritionLabel+=localTab4+"</tr>\n";localNutritionLabel+=localTab4+"<tr>\n";localNutritionLabel+=localTab5+"<td>Cholesterol</td>\n";localNutritionLabel+=localTab5+"<td>Less than</td>\n";localNutritionLabel+=localTab5+"<td>"+$localSettings.valueCol1DietaryCholesterol+"mg</td>\n";localNutritionLabel+=localTab5+"<td>"+$localSettings.valueCol2DietaryCholesterol+"mg</td>\n";localNutritionLabel+=localTab4+"</tr>\n";localNutritionLabel+=localTab4+"<tr>\n";localNutritionLabel+=localTab5+"<td>Sodium</td>\n";localNutritionLabel+=localTab5+"<td>Less than</td>\n";localNutritionLabel+=localTab5+"<td>"+$localSettings.valueCol1DietarySodium+"mg</td>\n";localNutritionLabel+=localTab5+"<td>"+$localSettings.valueCol2DietarySodium+"mg</td>\n";localNutritionLabel+=localTab4+"</tr>\n";localNutritionLabel+=localTab4+"<tr>\n";localNutritionLabel+=localTab5+"<td>Potassium</td>\n";localNutritionLabel+=localTab5+"<td>Less than</td>\n";localNutritionLabel+=localTab5+"<td>"+$localSettings.valueCol1DietaryPotassium+"mg</td>\n";localNutritionLabel+=localTab5+"<td>"+$localSettings.valueCol2DietaryPotassium+"mg</td>\n";localNutritionLabel+=localTab4+"</tr>\n";localNutritionLabel+=localTab4+"<tr>\n";localNutritionLabel+=localTab5+"<td>Total Carbohydrate</td>\n";localNutritionLabel+=localTab5+"<td>&nbsp;</td>\n";localNutritionLabel+=localTab5+"<td>"+$localSettings.valueCol1DietaryTotalCarb+"g</td>\n";localNutritionLabel+=localTab5+"<td>"+$localSettings.valueCol2DietaryTotalCarb+"g</td>\n";localNutritionLabel+=localTab4+"</tr>\n";localNutritionLabel+=localTab4+"<tr>\n";localNutritionLabel+=localTab5+"<td>&nbsp;&nbsp; Dietary</td>\n";localNutritionLabel+=localTab5+"<td>&nbsp;</td>\n";localNutritionLabel+=localTab5+"<td>"+$localSettings.valueCol1Dietary+"g</td>\n";localNutritionLabel+=localTab5+"<td>"+$localSettings.valueCol2Dietary+"g</td>\n";localNutritionLabel+=localTab4+"</tr>\n";localNutritionLabel+=localTab3+"</tbody>\n";return localNutritionLabel+=localTab2+"</table>\n"}function ingredientsHtmlLegacy($localSettings){for(x=3;x<5;x++){var tab="";for(y=1;y<=x;y++){tab+="\t"}eval("var localTab"+x+' = "'+tab+'";')}localNutritionLabel="";localNutritionLabel+=localTab3+"<br/>\n";localNutritionLabel+=localTab3+'<div class="ingredientListDiv">\n';localNutritionLabel+=localTab4+'<strong class="active" id="ingredientList">'+$localSettings.ingredientLabel+"</strong>\n";localNutritionLabel+=localTab4+$localSettings.ingredientList+"\n";return localNutritionLabel+=localTab3+'</div><!-- closing class="ingredientListDiv" -->\n'}function disclaimerHtmlLegacy($localSettings){for(x=3;x<5;x++){var tab="";for(y=1;y<=x;y++){tab+="\t"}eval("var localTab"+x+' = "'+tab+'";')}localNutritionLabel="";localNutritionLabel+=localTab3+"<br/>";localNutritionLabel+=localTab3+'<div id="calcDisclaimer">\n';localNutritionLabel+=localTab4+'<span id="calcDisclaimerText">'+$localSettings.valueDisclaimer+"</span>\n";localNutritionLabel+=localTab3+"</div>\n";return localNutritionLabel+=localTab3+"<br/>"}function bottomLinkHtmlLegacy($localSettings,localTab1){localNutritionLabel="";localNutritionLabel+=localTab1+'<div class="spaceAbove"></div>\n';localNutritionLabel+=localTab1+'<a href="'+$localSettings.urlBottomLink+'" target="_newSite" class="homeLinkPrint">'+$localSettings.nameBottomLink+"</a>\n";return localNutritionLabel+=localTab1+'<div class="spaceBelow"></div>\n'}function generateAttributeWithoutPercentageHtmlLegacy($localSettings,valueIndex,unitIndex,naIndex,attributeText,localTabValue,lineClass,attributeDisplayType,itemPropValue,localExtraTab,roundFunctionName){var localNaValue='<font class="notApplicable">-&nbsp;</font>';localNutritionLabel=localTabValue+'<div class="'+lineClass+'">';if(attributeDisplayType==1){localNutritionLabel+="<strong>"+$localSettings[attributeText]+'</strong> <span itemprop="'+itemPropValue+'">'}else{if(attributeDisplayType==2){localNutritionLabel+=$localSettings[attributeText]+" "}else{if(attributeDisplayType==3){localNutritionLabel+=localExtraTab+$localSettings[attributeText]+' <span itemprop="'+itemPropValue+'">'}else{if(attributeDisplayType==4){localNutritionLabel+=$localSettings[attributeText]+' <span itemprop="'+itemPropValue+'">'}else{if(attributeDisplayType==5){localNutritionLabel+=localExtraTab+'<div class="dv">'}}}}}localNutritionLabel+=$localSettings[naIndex]?localNaValue:($localSettings.allowFDARounding?eval(roundFunctionName)($localSettings[valueIndex],$localSettings.decimalPlacesForNutrition):parseFloat($localSettings[valueIndex].toFixed($localSettings.decimalPlacesForNutrition)))+$localSettings[unitIndex];if(attributeDisplayType==1||attributeDisplayType==4){localNutritionLabel+="</span></div>\n"}else{if(attributeDisplayType==2){localNutritionLabel+="</div>\n"}else{if(attributeDisplayType==3){localNutritionLabel+="\n"+localTabValue+"</span></div>\n"}else{if(attributeDisplayType==5){localNutritionLabel+="</div>\n";localNutritionLabel+=localExtraTab+$localSettings[attributeText]+"\n";localNutritionLabel+=localTabValue+"</div>\n"}}}}return localNutritionLabel}function generateAttributeWithPercentageHtmlLegacy($localSettings,valueIndex,dailyValueIndex,unitIndex,naIndex,attributeTexts,lineClass,itemPropValue,roundFunctionName,roundFunctionRuleName,boldName){for(x=1;x<3;x++){var tab="";for(y=1;y<=x;y++){tab+="\t"}eval("var localTab"+x+' = "'+tab+'";')}var localNaValue='<font class="notApplicable">-&nbsp;</font>';localNutritionLabel=localTab1+'<div class="'+lineClass+'">\n';localNutritionLabel+=localTab2+'<div class="dv">';localNutritionLabel+=$localSettings[naIndex]?localNaValue:"<strong>"+parseFloat(parseFloat((($localSettings.allowFDARounding?eval(roundFunctionRuleName)($localSettings[valueIndex]):$localSettings[valueIndex])/($localSettings[dailyValueIndex]==0?1:$localSettings[dailyValueIndex]*(parseFloat($localSettings.calorieIntake)/2000).toFixed(2)))*100).toFixed($localSettings.decimalPlacesForDailyValues))+"</strong>%";localNutritionLabel+="</div>\n";if(boldName){localNutritionLabel+=localTab2+"<strong>"+$localSettings[attributeTexts]+'</strong> <span itemprop="'+itemPropValue+'">'}else{localNutritionLabel+=localTab2+$localSettings[attributeTexts]+' <span itemprop="'+itemPropValue+'">'}localNutritionLabel+=($localSettings[naIndex]?localNaValue:($localSettings.allowFDARounding?eval(roundFunctionName)($localSettings[valueIndex],$localSettings.decimalPlacesForNutrition):parseFloat($localSettings[valueIndex].toFixed($localSettings.decimalPlacesForNutrition)))+$localSettings[unitIndex])+"\n";return localNutritionLabel+=localTab1+"</span></div>\n"}NutritionLabel.prototype={generateLegacy:function(){var $this=this;if($this.nutritionLabel){return $this.nutritionLabel}if($this.settings.hideNotApplicableValues){$this.settings.showCalories=$this.settings.naCalories?false:$this.settings.showCalories;$this.settings.showFatCalories=$this.settings.naFatCalories?false:$this.settings.showFatCalories;$this.settings.showTotalFat=$this.settings.naTotalFat?false:$this.settings.showTotalFat;$this.settings.showSatFat=$this.settings.naSatFat?false:$this.settings.showSatFat;$this.settings.showTransFat=$this.settings.naTransFat?false:$this.settings.showTransFat;$this.settings.showPolyFat=$this.settings.naPolyFat?false:$this.settings.showPolyFat;$this.settings.showMonoFat=$this.settings.naMonoFat?false:$this.settings.showMonoFat;$this.settings.showCholesterol=$this.settings.naCholesterol?false:$this.settings.showCholesterol;$this.settings.showSodium=$this.settings.naSodium?false:$this.settings.showSodium;$this.settings.showPotassium=$this.settings.naPotassium?false:$this.settings.showPotassium;$this.settings.showTotalCarb=$this.settings.naTotalCarb?false:$this.settings.showTotalCarb;$this.settings.showFibers=$this.settings.naFibers?false:$this.settings.showFibers;$this.settings.showSugars=$this.settings.naSugars?false:$this.settings.showSugars;$this.settings.showProteins=$this.settings.naProteins?false:$this.settings.showProteins;$this.settings.showVitaminA=$this.settings.naVitaminA?false:$this.settings.showVitaminA;$this.settings.showVitaminC=$this.settings.naVitaminC?false:$this.settings.showVitaminC;$this.settings.showCalcium=$this.settings.naCalcium?false:$this.settings.showCalcium;$this.settings.showIron=$this.settings.naIron?false:$this.settings.showIron}for(x=1;x<6;x++){var tab="";for(y=1;y<=x;y++){tab+="\t"}eval("var tab"+x+' = "'+tab+'";')}var borderCSS="";if($this.settings.allowNoBorder){borderCSS="border: 0;"}var nutritionLabel='<div itemscope itemtype="http://schema.org/NutritionInformation" class="nutritionLabel" style="'+borderCSS;if(!$this.settings.allowCustomWidth){nutritionLabel+=" width: "+$this.settings.width+'px;">\n'}else{nutritionLabel+=" width: "+$this.settings.widthCustom+';">\n'}nutritionLabel+=tab1+'<div class="title">'+$this.settings.textNutritionFacts+"</div>\n";if($this.settings.showItemName){nutritionLabel+=itemNameHtmlLegacy($this.settings)}var sevingUnitQuantityHtmlLegacyResult=sevingUnitQuantityHtmlLegacy($this.settings);var servingSizeIsHidden=sevingUnitQuantityHtmlLegacyResult.servingSizeIsHidden;var servingContainerIsHidden=sevingUnitQuantityHtmlLegacyResult.servingContainerIsHidden;nutritionLabel+=sevingUnitQuantityHtmlLegacyResult.nutritionLabel;if((!$this.settings.showItemName&&!$this.settings.showServingUnitQuantity)||(!$this.settings.showItemName&&servingSizeIsHidden&&servingContainerIsHidden)){nutritionLabel+=tab1+'<div class="headerSpacer"></div>\n'}nutritionLabel+=tab1+'<div class="bar1"></div>\n';if($this.settings.showAmountPerServing){nutritionLabel+=tab1+'<div class="line m">';nutritionLabel+="<strong>"+$this.settings.textAmountPerServing+"</strong>";nutritionLabel+="</div>\n"}nutritionLabel+=tab1+'<div class="line">\n';if($this.settings.showFatCalories){nutritionLabel+=generateAttributeWithoutPercentageHtmlLegacy($this.settings,"valueFatCalories","unitFatCalories","naFatCalories","textFatCalories",tab2,"fr",2,"","","roundCalories")}if($this.settings.showCalories){nutritionLabel+=generateAttributeWithoutPercentageHtmlLegacy($this.settings,"valueCalories","unitCalories","naCalories","textCalories",tab2,"",1,"calories","","roundCalories")}else{if($this.settings.showFatCalories){nutritionLabel+=tab2+"<div>&nbsp;</div>\n"}}nutritionLabel+=tab1+"</div>\n";nutritionLabel+=tab1+'<div class="bar2"></div>\n';nutritionLabel+=tab1+'<div class="line ar">';nutritionLabel+="<strong>% "+$this.settings.textDailyValues+"<sup>*</sup></strong>";nutritionLabel+="</div>\n";if($this.settings.showTotalFat){nutritionLabel+=generateAttributeWithPercentageHtmlLegacy($this.settings,"valueTotalFat","dailyValueTotalFat","unitTotalFat","naTotalFat","textTotalFat","line","fatContent","roundFat","roundFatRule",true)}if($this.settings.showSatFat){nutritionLabel+=generateAttributeWithPercentageHtmlLegacy($this.settings,"valueSatFat","dailyValueSatFat","unitSatFat","naSatFat","textSatFat","line indent","saturatedFatContent","roundFat","roundFatRule",false)}if($this.settings.showTransFat){nutritionLabel+=generateAttributeWithoutPercentageHtmlLegacy($this.settings,"valueTransFat","unitTransFat","naTransFat","textTransFat",tab1,"line indent",3,"transFatContent",tab2,"roundFat")}if($this.settings.showPolyFat){nutritionLabel+=generateAttributeWithoutPercentageHtmlLegacy($this.settings,"valuePolyFat","unitPolyFat","naPolyFat","textPolyFat",tab1,"line indent",2,"","","roundFat")}if($this.settings.showMonoFat){nutritionLabel+=generateAttributeWithoutPercentageHtmlLegacy($this.settings,"valueMonoFat","unitMonoFat","naMonoFat","textMonoFat",tab1,"line indent",2,"","","roundFat")}if($this.settings.showCholesterol){nutritionLabel+=generateAttributeWithPercentageHtmlLegacy($this.settings,"valueCholesterol","dailyValueCholesterol","unitCholesterol","naCholesterol","textCholesterol","line","cholesterolContent","roundCholesterol","roundCholesterolRule",true)}if($this.settings.showSodium){nutritionLabel+=generateAttributeWithPercentageHtmlLegacy($this.settings,"valueSodium","dailyValueSodium","unitSodium","naSodium","textSodium","line","sodiumContent","roundSodium","roundSodiumRule",true)}if($this.settings.showPotassium){nutritionLabel+=generateAttributeWithPercentageHtmlLegacy($this.settings,"valuePotassium","dailyValuePotassium","unitPotassium","naPotassium","textPotassium","line","potassiumContent","roundPotassium","roundPotassiumRule",true)}if($this.settings.showTotalCarb){nutritionLabel+=generateAttributeWithPercentageHtmlLegacy($this.settings,"valueTotalCarb","dailyValueCarb","unitTotalCarb","naTotalCarb","textTotalCarb","line","carbohydrateContent","roundCarbFiberSugarProtein","roundCarbFiberSugarProteinRule",true)}if($this.settings.showFibers){nutritionLabel+=generateAttributeWithPercentageHtmlLegacy($this.settings,"valueFibers","dailyValueFiber","unitFibers","naFibers","textFibers","line indent","fiberContent","roundCarbFiberSugarProtein","roundCarbFiberSugarProteinRule",false)}if($this.settings.showSugars){nutritionLabel+=generateAttributeWithoutPercentageHtmlLegacy($this.settings,"valueSugars","unitSugars","naSugars","textSugars",tab1,"line indent",4,"sugarContent","","roundCarbFiberSugarProtein")}if($this.settings.showProteins){nutritionLabel+=generateAttributeWithoutPercentageHtmlLegacy($this.settings,"valueProteins","unitProteins","naProteins","textProteins",tab1,"line",1,"proteinContent","","roundCarbFiberSugarProtein")}nutritionLabel+=tab1+'<div class="bar1"></div>\n';if($this.settings.showVitaminA){nutritionLabel+=generateAttributeWithoutPercentageHtmlLegacy($this.settings,"valueVitaminA","unitVitaminA","naVitaminA","textVitaminA",tab1,"line vitaminA",5,"",tab2,"roundVitaminsCalciumIron")}if($this.settings.showVitaminC){nutritionLabel+=generateAttributeWithoutPercentageHtmlLegacy($this.settings,"valueVitaminC","unitVitaminC","naVitaminC","textVitaminC",tab1,"line vitaminC",5,"",tab2,"roundVitaminsCalciumIron")}if($this.settings.showCalcium){nutritionLabel+=generateAttributeWithoutPercentageHtmlLegacy($this.settings,"valueCalcium","unitCalcium","naCalcium","textCalcium",tab1,"line calcium",5,"",tab2,"roundVitaminsCalciumIron")}if($this.settings.showIron){nutritionLabel+=generateAttributeWithoutPercentageHtmlLegacy($this.settings,"valueIron","unitIron","naIron","textIron",tab1,"line iron",5,"",tab2,"roundVitaminsCalciumIron")}nutritionLabel+=tab1+'<div class="dvCalorieDiet line">\n';nutritionLabel+=tab2+'<div class="calorieNote">\n';nutritionLabel+=tab3+'<span class="star">*</span> '+$this.settings.textPercentDailyPart1+" "+$this.settings.calorieIntake+" "+$this.settings.textPercentDailyPart2+".\n";if($this.settings.showIngredients){nutritionLabel+=ingredientsHtmlLegacy($this.settings)}if($this.settings.showDisclaimer){nutritionLabel+=disclaimerHtmlLegacy($this.settings)}nutritionLabel+=tab2+'</div><!-- closing class="calorieNote" -->\n';if($this.settings.showCalorieDiet){nutritionLabel+=calorieDietHtmlLegacy($this.settings)}nutritionLabel+=tab1+'</div><!-- closing class="dvCalorieDiet line" -->\n';if($this.settings.showBottomLink){nutritionLabel+=bottomLinkHtmlLegacy($this.settings,tab1)}if($this.settings.showCustomFooter){nutritionLabel+=tab1+'<div class="customFooter">'+$this.settings.valueCustomFooter+"</div>\n"}nutritionLabel+='</div><!-- closing class="nutritionLabel" -->\n';nutritionLabel+='<div class="naTooltip">Data not available</div>\n';return nutritionLabel},generate2018:function(){return""}}})(jQuery);